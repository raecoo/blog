
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nothing Impossible</title>
  <meta name="author" content="Raecoo Cao">

  
  <meta name="description" content="scp -Pport -p account@host:/files/path /local/path -P(大写)端口参数
-p(小写)保持文件更改及相关的操作属性不变
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://raecoo.github.com/blog/page/12/index.html">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/blog/atom.xml" rel="alternate" title="Nothing Impossible" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">Nothing Impossible</a></h1>
  
    <h2>Focus on Web 2.0, Ruby on Rails, CoffeeScript, BDD … All of the Web Technologies.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:raecoo.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/08/use-scp-copy-remote-files.html">Use Scp Copy Remote Files</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-08T00:00:00+08:00" pubdate data-updated="true">Nov 8<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/11/08/use-scp-copy-remote-files.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>scp -Pport -p account@host:/files/path  /local/path</code></pre>


<p>-P(大写)端口参数
-p(小写)保持文件更改及相关的操作属性不变</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/08/backup-mysql-data-from-remote.html">Backup Mysql Data From Remote</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-08T00:00:00+08:00" pubdate data-updated="true">Nov 8<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/11/08/backup-mysql-data-from-remote.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>mysqldump -h hostname -p -u username --opt databasename >  databasename.sql</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/04/use-fastri-to-increase-the-speed-of-ruby-ri.html">Use Fastri to Increase the Speed of Ruby Ri</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-04T00:00:00+08:00" pubdate data-updated="true">Nov 4<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/11/04/use-fastri-to-increase-the-speed-of-ruby-ri.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>gem install fastri
fastri-server -b</code></pre>


<p>the first line install the gem,second line make ruby doc indexs.</p>

<p>Usage: qri keyword</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/04/thinking-sphinx-on-windows.html">Thinking Sphinx on Windows</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-04T00:00:00+08:00" pubdate data-updated="true">Nov 4<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/11/04/thinking-sphinx-on-windows.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="excerpt_image" title="Sphinx" src="http://www.expressionlab.com/assets/2008/10/29/sphinx.gif" alt="Sphinx" /> In one of my Ruby on Rails projects, I needed a full-text search engine to integrate. And after some research, I decided that <a href="http://ts.freelancing-gods.com/" target="_blank">Thinking Sphinx</a> is the way to go. It seemed simple, fast and well documented. Unfortunately, I had some issues when tried to get it running on Windows.</p>

<p>The first step is installing Sphinx itself. While this looks simple, it took me five hours to move to the next step!</p>

<p>article quote from ： <a href="http://www.expressionlab.com/2008/11/2/thinking-sphinx-on-windows" target="_blank">http://www.expressionlab.com/2008/11/2/thinking-sphinx-on-windows</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/03/design-elements-of-next-generation-web-20-application.html">Design Elements of Next Generation Web 2.0 Application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-03T00:00:00+08:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2008</time>
        
         | <a href="/blog/2008/11/03/design-elements-of-next-generation-web-20-application.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.flickr.com/photos/raecoo/4076063577/" title="Flickr 上 Raecoo 的 web20"><img src="http://farm3.static.flickr.com/2683/4076063577_c6e7f14d25.jpg" width="294" height="500" alt="web20" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/10/31/ruby-email-validation-regex-expression.html">Ruby Email Validation Regex Expression</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-31T00:00:00+08:00" pubdate data-updated="true">Oct 31<span>st</span>, 2008</time>
        
         | <a href="/blog/2008/10/31/ruby-email-validation-regex-expression.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>this Regex Expression can handle &#8216;-&#8217; character in Ruby email validation</p>

<pre><code>^\w+((-\w+)|(\-)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$</code></pre>


<p>Ruby Regex Expression test tool : <a href="http://www.rubular.com/" target="_blank">http://www.rubular.com/</a></p>

<p>BTW：only test in ruby.</p>

<p>感谢<a href="http://blog.ashchan.com" target='_blank'>ashchan</a> 提供了可以支持Gmail 标签的正则表达式，经测试效果也不错，如下：</p>

<pre><code>/^([^@\s!#\$%\^&amp;\(\)]+)@((?:[-a-z0-9A-Z]+\.)+[a-zA-Z]{2,})$/</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/10/25/rails-store-format-in-memcache.html">Rails Store Format in Memcache</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-25T00:00:00+08:00" pubdate data-updated="true">Oct 25<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/10/25/rails-store-format-in-memcache.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在Rails开发过程中，经常需要查看Memcache的存储内容，原来一直通过console方式，但速度太慢，效果不好，今天试图用Telnet去查看。说干就干</p>

<pre><code>telnet 127.0.0.1 11211
get 'user_login'
ERROR</code></pre>


<p>奇怪，不应该呀，这个Key明显是存到Cache里了，重新打开console模式测试，可以正常取出。这里有点怀疑Rails写入Memcache的机制，是不是加了类似保存Session时的前缀啊。
怎么直接查看Memcache已保存的所有Key,Google之发现使用 <strong>stats cachedump slab_id limit_num</strong>可以直接查看Memcache某个slab中的前limit_num个key列表，显示格式如下</p>

<pre><code>ITEM key_name [ value_length b; expire_time|access_time s]</code></pre>


<p>嗯，很爽，果不出所料，Rails确实在存入Memcache前做了点手脚，加了一个前缀。现在将前缀加上再取，成功！</p>

<pre><code>stats cachedump 1 10
ITEM active_record:friends:86799 [1 b; 1224840079 s]
ITEM p1_cn-production:ticker_key [4 b; 1224839825 s]
ITEM p1_cn-production:timer_key [4 b; 1224839825 s]
get p1_cn-production:active_record:friends:86799
VALUE p1_cn-production:active_record:friends:86799 0 75
[iP?i恑a?i}?i劽i惷i旅i?i竺i0?iK?i     i~igit?i睹</code></pre>


<p>可以看出前缀是根据Rails项目名称和运行模式生成的，还挺聪明</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/10/09/how-to-use-ruby-invoke-remote-url.html">How to Use Ruby Invoke Remote Url</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-09T00:00:00+08:00" pubdate data-updated="true">Oct 9<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/10/09/how-to-use-ruby-invoke-remote-url.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>调用远程URL接口的通用方法,临时封装的,还不完善,仅供参考,相信封装完善后将是一个不错的Libary,其实RESTFul的远程也类似这样,但Rails自己封装的肯定比这个要成熟的多,抽空也Copy一个出来,记录在此</p>

<pre><code>
require 'net/http'
require 'net/https'
require "singleton"
require "erb"
def invoke_remote
    RemoteHttp.instance
end
class RemoteHttp
    include Singleton
    def call(host,url,request_type,params={})
        http = Net::HTTP.new(host)
        response, data = http.get(host+url, nil)
        puts '----------------------------------------------------'
        puts response
        puts '----------------------------------------------------'
        puts data
        puts '----------------------------------------------------'
    end
end
invoke_remote.call('http://www.p1.cn','/raecoo','',{})
</code></pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/19/use-fixture-in-rails-2.html">Use Fixture in Rails 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-19T00:00:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/09/19/use-fixture-in-rails-2.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>以往在使用Fixture时都是用部分数据填充来模拟达到真实效果,但Model之间的关系使的维护与书写Fixture成为一件比较复杂的事情,稍有不慎,Fixture也会使测试代码变的十分脆弱,今天看到一个不错的方式,基本上可以解决这个问题.方法如下:</p>

<pre><code>
# products.yml
couch:
  name: Couch
  price: 399.99
  manufacturer: lazyboy
  categories: furniture
tv_stand:
  name: TV Stand
  price: 149.95
  manufacturer: highdeph
  categories: furniture, electronics
# manufacturers.yml
lazyboy:
  name: LazyBoy
highdeph:
  name: HighDeph
# categories.yml
furniture:
  name: Furniture
electronics:
  name: Electronics
</code></pre>


<p>感兴趣的朋友还可以看视频教程,相信会有所收获
<a href="http://railscasts.com/episodes/81" target='_blank'>video tutorial</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/19/rails-commands.html">Rails Commands</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-19T00:00:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2008</time>
        
         | <a href="/blog/2008/09/19/rails-commands.html#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>rails command list</p>

<h1>rake db:fixtures:load</h1>

<h1># 载入fixtures到当前环境的数据库</h1>

<h1># 载入指定的fixtures使用FIXTURES=x,y</h1>

<h1>rake db:migrate</h1>

<h1># 迁移数据库通过在db/migrate目录下的脚本.可以指定版本号通过VERSION=x</h1>

<h1>rake db:schema:dump</h1>

<h1># 创建一个db/schema.rb文件，通过AR能过够支持任何数据库去使用</h1>

<h1>rake db:schema:load</h1>

<h1># 载入一个schema.rb文件进数据库</h1>

<h1>rake db:sessions:clear</h1>

<h1># 清空sessions表</h1>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2008/09/19/rails-commands.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/13/">&larr; Older</a>
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/11/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2010/05/30/migration-blog-to-jekyll-and-heroku.html">Migration Blog to Jekyll and Heroku</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/29/code-highlight-test.html">Code Highlight Test</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/21/dont-forget-the-id-column-in-query-with-select-option.html">Don&#8217;t forget the id column in query with select option</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/05/08/install-ruby-oci8-on-snow-leopard.html">install ruby-oci8 on snow leopard</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/04/26/string-truncate-in-php.html">String truncate in PHP</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Raecoo Cao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'raecoosblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
